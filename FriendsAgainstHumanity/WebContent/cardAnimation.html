<!DOCTYPE html>
<html>
	<head>
		<title>Animation Demo</title>
		
		<style type="text/css">
			.card {
				padding: 26px 35px 50px 35px;
				margin: 15px;
				width: 265px;
				height: 394px;
				-webkit-box-shadow: #BBB 10px 10px 10px;
				-moz-box-shadow: #BBB 10px 10px 10px; 
				box-shadow: #BBB 10px 10px 10px;"
				-webkit-border-radius: 15px;
				-moz-border-radius: 15px;
				border-radius: 15px;
				border: 2px solid #000;
				position: relative;
				overflow: hidden;
			}
			.white {
				color: #000;
				background: #FFF;
			}
			.black {
				color: #FFF;
				background: #000;
			}
			.cardText {
				font: 27px Helvetica;
				font-weight: 500;
				letter-spacing: 0.5px;
				word-spacing: 2px;
			}
			.cardFooter {
				font: 11px Helvetica;
				font-weight: 200;
				position: absolute;
				bottom: 0px;
				padding: 0px 20px 20px 0px;
				height: 50px;
				overflow: hidden;
			}
		</style>
		
		<script src="//ajax.googleapis.com/ajax/libs/dojo/1.9.2/dojo/dojo.js"></script>
		<script>
			require(["dojo", "dojo/fx", "dojox/gfx", "dojo/dom-construct", "dojox/gfx/utils", "dojox/gfx/fx", "dojo/domReady!"],
			function (dojo, coreFx, gfx, domConstruct) {
				
				function createCard(text, deck, color) {
					var card = domConstruct.create("div");
					//card.setAttribute("id", "card_" + id);
					if(color.toUpperCase() === "BLACK")
						card.className = "black card";
					else
						card.className = "white card";
					
					var cardText =  domConstruct.create("div");
					cardText.className = "cardText";
					cardText.innerHTML = text;
					
					var footer =  domConstruct.create("div");
					footer.className = "cardFooter";
					footer.innerHTML = "<img src='img/cardLogo.png' /> " + deck;
					
					card.appendChild(cardText);
					card.appendChild(footer);
				
					return card;
				}
				
				//var whiteCard = createCard("Leaving an awkward voicemail. Leaving an awkward voicemail. Leaving an awkward voicemail. Leaving an awkward voicemail. Leaving an awkward voicemail. Leaving an awkward voicemail. Leaving an awkward voicemail. Leaving an awkward voicemail. Leaving an awkward voicemail.", "Friends Against Humanity Friends Against Humanity Friends Against Humanity Friends Against Humanity Friends Against Humanity Friends Against Humanity Friends Against Humanity Friends Against Humanity Friends Against Humanity", "white");
				//dojo.place(whiteCard, "targetLocation");
				var blackCard = createCard("What's the most emo?", "Friends Against Humanity", "black");
				dojo.place(blackCard, "targetLocation");
				
				var fadeOut = dojo.animateProperty({
			        node: blackCard,
			        properties: {
			            top: { start: 0, end: 150 },
			            left: 0,
			            opacity: { start: 1, end: 0 }
			        },
			        duration: 800,
			        rate: 0
			    });
				var fadeIn = dojo.animateProperty({
			        node: blackCard,
			        properties: {
			            top: { start: 150, end: 0 },
			            left: 0,
			            opacity: { start: 0, end: 1 }
			        },
			        duration: 800,
			        rate: 0
			    });
					
				coreFx.chain([fadeOut, fadeIn]).play();

			});
		</script>
	</head>
	<body>
		<div id="targetLocation" style="height: 200px;"></div>
	</body>
</html>